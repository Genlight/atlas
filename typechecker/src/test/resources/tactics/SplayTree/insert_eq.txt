(ite (* t == leaf *)
  (w
    (let:tree:cf
      (w leaf)
  (w
    (let:tree:cf
      (w leaf)
      (w node)
    )
  )
    )
  )
  (w
    (let:tree:cf
      (w app) (* splay_eq a t *)
      (w (match
        (w leaf)
        (w (ite (* a == a' *)
          (w node)
          (w
            (ite (* a < a' *)
              (w
                (let:tree:cf
                  (w leaf)
                  (w
                    (let:tree:cf
                      (w node)
                      (w node)
                    )
                  )
                )
              )
              (w
                (let:tree:cf
                  (w leaf)
                  (w
                    (let:tree:cf
                      (w node)
                      (w node)
                    )
                  )
                )
              )
            )
          )
        ))
      ))
    )
  )
)